<!DOCTYPE html>
<html lang="en-US" mlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  xmlns:th="http://www.thymeleaf.org"
	  layout:decorate="~{layout/layout}">

<body>
	
    <div layout:fragment="content">
    <script th:inline="javascript">
		$(document).ready(function () {
		    $('#navExams').append('<ul id="nav" class="pagination pagination-md "></ul>');  
		    var rowsShown = 4;  
		    var rowsTotal = $('#data .exam').length;  
		    console.log(rowsTotal);
		    var numPages = rowsTotal/rowsShown; 
		    console.log(numPages);

		    if(numPages > 1) {
				$('#nav').append('<li class="page-item"><a class="page-link rounded-0" href="javascript::" rel="0" tabindex="-1"><i class="fa fa-angle-double-left" aria-hidden="true"></i></a></li>');
			 	for (i = 0;i < numPages;i++) {  
			        var pageNum = i + 1;
			        $('#nav').append ('<li class="page-item"><a href="javascript::" class="page-link" rel="'+i+'">'+pageNum+'</a></li> ');  
			    }
			    $('#nav').append('<li class="page-item"><a class="page-link rounded-0" href="javascript::" rel="'+(numPages-1)+'"><i class="fa fa-angle-double-right" aria-hidden="true"></i></a></li>');
			    
			    $('#data .exam').hide();  
			    $('#data .exam').slice (0, rowsShown).show();  
			    $('#nav a:first').addClass('active');  
			    $('#nav a').bind('click', function() {  
				$('#nav a').removeClass('active');  
			   	$(this).addClass('active');  
			        var currPage = $(this).attr('rel');  
			        var startItem = currPage * rowsShown;  
			        var endItem = startItem + rowsShown;  
			        $('#data .exam').css('opacity','0.0').hide().slice(startItem, endItem).  
			        css('display','table-row').animate({opacity:1}, 300);  
			    }); 
			}
		    
		});
	</script>
	
    <div class="row no-gutters">
    	<div class="col-lg-2"></div>
        <div class="col-lg-8">
        	<div id="page-title" class="padding-top-20px gradient-white">
		        <div class="container">
		            <h2 class="font-weight-100">[[#{${type}}]]</h2>
		        </div>
		    </div>
            <hr>
            <div class="text-center">
	            
                <div class="float-left padding-left-15px" th:text="${exams.size()}"></div>
                <div class="float-left padding-left-15px">&ensp;[[#{exams.results}]]</div>
                <div class="float-right padding-right-15px">[[#{${type}}]]</div>
                <div class="clearfix"></div>
                <hr>

                <div id="data" class="row">
                    <div class="col-md-3 margin-bottom-45px exam" th:each="exam : ${exams}">
                        <div class="background-white thum-hover box-shadow hvr-float">
                            <div class="item-thumbnail background-white" >
                                <a href="#"><img th:if="${!exam.getImages().isEmpty()}" th:src="${exam.getImages().get(0).getUrl()}" height="250px" width="300px" alt=""></a>
                            </div>
                            <div class="padding-20px">
                                <h5 class="margin-bottom-20px"><a class="text-dark" th:text="${exam.name}" th:href="@{'/exam/' + ${exam.name}}"></a></h5>
                                <div class="rating clearfix">
                                    <ul class="float-right">
                                        <li th:class="${raiting.get(exam.id) > 0 ? 'active' : ''}"></li>
                                        <li th:class="${raiting.get(exam.id) > 1 ? 'active' : ''}"></li>
                                        <li th:class="${raiting.get(exam.id) > 2 ? 'active' : ''}"></li>
                                        <li th:class="${raiting.get(exam.id) > 3 ? 'active' : ''}"></li>
                                        <li th:class="${raiting.get(exam.id) > 4 ? 'active' : ''}"></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- // row -->
                
                <div class="row">
                	<div class="col-md-4"></div>
                	<div class="col-md-4" id="navExams"></div>
                	<div class="col-md-4"></div>
                </div>
            </div>
        </div>
        <div class="col-lg-2"></div>
    </div>

  </div>
  
  	
</body>
</html>
