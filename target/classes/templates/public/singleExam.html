<!DOCTYPE html>
<html lang="en-US"  xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  xmlns:th="http://www.thymeleaf.org"
	  layout:decorate="~{layout/layout}">
<body>
   <div layout:fragment="content">

    <div id="page-title" class="padding-tb-30px gradient-white">
        <div class="container">
            <h1 th:text="${exam.name}" class="font-weight-300"></h1>
        </div>
    </div>

    <div>
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="border-radius-10 background-white">
                        <div class="entry-content px-5">
                            <p th:text="${exam.description}"></p>
                        </div>
                        <!-- .entry-content -->

                        <!-- Post tags -->
                        <hr>                       
                        <div class="post-tags" style="width: 100%;">
				          <div class="col-lg-12 col-md-1  col-sm-10 sm-mb-40px w-100"  style="width:100%;">
				            <form action="#" th:action="@{'/exam/'+ ${exam.name}}" method="POST" th:object="${reservation}" id="reservationForm">
				               <div class="pricing hover-effect">
				                            <h4> Costo visita</h4>
				                    <div class="pricing-head text-center" style="width:100%; border:none; background:#00b0ff; color:white; height:100%; font-size:30px;">
				                        <h2 class="margin-0px padding-15px">
				                            <i class="text-up-small">$</i><span class="text-up-small" th:text="${exam.price}"></span>
				                        </h2>
				                    </div>
				                    
				                    <input type="text"  id="picker2" class="form-control" th:field="*{startHour}" placeholder="inserisci data">				                           
			                           <script>
											$(document).ready(function(){
												         var today = new Date();
													    $('#picker2').datetimepicker({
													      format:"Y-m-d H:m",
													      minDate: today,
													      onSelect: function(selectedDate) {
													       var option = this.id == "from" ? "minDate" : "maxDate",
															            instance = $(this).data("datepicker"),
															            date = $.datepicker.parseDate(instance.settings.dateFormat || $.datepicker._defaults.dateFormat, selectedDate, instance.settings);
															        dates.not(this).datepicker("option", option, date);
														  }
														})
													});
										</script>		
											
				                    
				                    <div class="pricing-footer" style="height:50px;">
				                        <button type="submit" sec:authorize="isAuthenticated()" style="width:100%; border:none; background:#00b0ff; color:white; height:100%; font-size:17px;"> Prenota</button>
				                        <a th:href="@{'/auth/signIn'}" sec:authorize="!isAuthenticated()" style="width:100%; border:none; background:#00b0ff; color:white; height:100%; font-size:30px; font-family: 'Roboto', sans-serif; text-decoration: none;"> <center style="color:white; font-size:17px; margin-top:10px;">Accedi Per Prenotare</center></a>
				                    </div>
				               </div>
				             </form>
				             
				             <div class="item-thumbnail mb-5">
		                        <a href="#" class="text-center m-0"><img th:if="${!exam.getImages().isEmpty()}" th:src="${exam.getImages().get(0).getUrl()}" alt=""></a>
		                    </div>
				          </div>
				        
                       </div>
                    </div>
                </div>

                <div class="col-lg-4">
					<div class="margin-bottom-30px">
                        <div class="px-3 background-white border-radius-10">
                            <h4 ><i class="fas fa-comment-alt margin-right-10px text-main-color"></i>Reviews <span th:text="${'(' + reviews.size() + ')'}"></span></h4>
                            
                            <hr>

                            <ul class="commentlist padding-0px margin-0px list-unstyled text-grey-3">
                                <li class="border-bottom-1 border-grey-1 margin-bottom-20px" th:each="singleReview : ${reviews}">
                                    <img src="assets/img/testimonial-1.png" class="float-left margin-right-20px border-radius-60 margin-bottom-20px" alt="">
                                    <div class="margin-left-85px">
                                          <label>voto</label> <p th:text="${singleReview.vote}"></p>
                                        <span class="text-extra-small">Date :  <a href="#" class="text-main-color">July 15, 2016</a></span>
                                        <p class="margin-top-15px text-grey-2" th:text="${singleReview.body}">It is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout. </p>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                    <!--<div class="margin-bottom-30px">
                        <div class="px-3 background-white border-radius-10">
                            <h4><i class="fas fa-comment-alt margin-right-10px text-main-color"></i> Add Comment</h4>
                            <hr>
                            <form th:action="@{'/exam/' + ${exam.name} + '/review'}" method="POST" th:object="${review}">
                                <div class="form-row">
              
                                    <div class="form-group col-md-3">
                                        <label>voto</label>
                                        <input type="number" class="form-control" th:field="*{vote}" placeholder="inserisci voto" min="1" max="10">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label>Comment :</label>
                                    <textarea class="form-control" id="exampleFormControlTextarea1"  th:field="*{body}" rows="3" placeholder="Comment"></textarea>
                                </div>
                                <button type="submit" style="width:100%; border:none; background:#00b0ff; color:white; height:100%; font-size:17px; height:40px; border-radius:20px;">Add Now !</button>
                            </form>
                        </div>
                    </div>-->
                </div>
            </div>
        </div>
    </div> 
   </div>    
</body>
</html>
