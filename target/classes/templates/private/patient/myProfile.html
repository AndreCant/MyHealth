<!DOCTYPE html>
<html lang="en-US" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	  xmlns:th="http://www.thymeleaf.org"
	  layout:decorate="~{layout/layout}">
<!-- Mirrored from nilethemes.com/html/tabib/dashboard-my-profile.html by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 10 Jun 2021 13:51:02 GMT -->
<body>
 <div layout:fragment="content">
   <script th:inline="javascript"> 
                 function disabledInput (){
					document.querySelectorAll('.disabled').forEach(element =>{
						element.removeAttribute('disabled');
					})
					document.querySelector('#bottonSubmit').removeAttribute('hidden');
				 }
   </script>
   <script th:inline="javascript">
		function checkImage(event){
			if(event.target.files.length){
				$('#uploadButton')[0].removeAttribute('hidden');
				$('#selectButton')[0].setAttribute('hidden', true);
			}
		}
	</script>
	
	<style>
      label.label input[type="file"] {
        position: absolute;
        top: -1000px;
      }
      .label {
        cursor: pointer;
        border: 1px solid #cccccc;
        border-radius: 5px;
        padding: 5px 15px;
        margin: 5px;
        width: 200px;
        margin-right: 70px;
        background: #dddddd;
        display: inline-block;
      }
      .label:hover {
        background: #5cbd95;
      }
      .label:active {
        background: #9fa1a0;
      }
      .label:invalid + span {
        color: #000000;
      }
      .label:valid + span {
        color: #ffffff;
      }
	</style>
    <div class="content-wrapper" style="margin-left:50px;">
      <div class="container-fluid overflow-hidden">
       <div class="row margin-tb-0px margin-lr-10px sm-mrl-0px">
        <div class="container-fluid overflow-hidden">
        <ul class="nav nav-tabs" style="margin-top:20px;">
					  <li class="nav-item"><a class="nav-link active" href="#">[[#{patient.profile}]]</a></li>
					  <li class="nav-item"><a class="nav-link" th:href="#{visits}" href="#">[[#{patient.myVisits}]]</a></li>
					  <li class="nav-item"><a class="nav-link" th:href="#{reservations}">[[#{patient.reservations}]]</a></li>
             </ul>
            <div class="row margin-tb-px margin-lr-10px sm-mrl-0px">
            
                <!-- Page Title -->
              <div id="page-title" class="padding-30px background-white full-width box-shadow">
                    <div class="container">
 
                        <h1 class="font-weight-300">My Profile</h1>
                    </div>
                </div>
                <!-- // Page Title -->

                <div class="row margin-tb-90px full-width">
                    <div class="card-body">
	                    <img th:if="${user.image != null}" th:src="@{${user.image.url.replaceAll('\\', '/')}}" class="img-thumbnail" width="304" height="236"/>
	                       <img th:if="${user.image == null}" src="https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_960_720.png" class="img-thumbnail" width="304" height="236"/>				
	                        <form method="post" th:action="@{/patient/uploadImage}" enctype="multipart/form-data">
								<div class="form-group text-center mt-3">
								  <label class="label" id="selectButton">
								   <input type="hidden" name="userId" th:value="${user.id}"/>
									<input type="file" name="file" class="form-control-file" id="image_uploads" accept=".jpg, .png" required onchange="checkImage(event)"/>
									<span>[[#{image.select}]]</span>
									</label>
									  <button id="uploadButton" type="submit" class="btn btn-primary" style="cursor: pointer;" hidden>[[#{image.upload}]]</button>
								</div>
						   </form>
	                </div>
                    <div class="col-md-8" id="father">
                  	<form method="POST"  th:object="${user}">
                        <div class="row" >
                        <input type="hidden" th:field="*{id}">
                         <div class="col-md-6 margin-bottom-20px">
                                <label><i class="far fa-user margin-right-10px"></i> [[#{patient.name}]]</label>
                                <input  th:field="*{name}"  type="text" class="disabled form-control form-control-sm"  disabled>
                            </div>                           
                            <div class="col-md-6 margin-bottom-20px">
                                <label><i class="far fa-user margin-right-10px"></i> [[#{patient.surname}]]</label>
                                <input th:field="*{surname}"  type="text"  class=" disabled form-control form-control-sm"  disabled>
                            </div>     
                            <div class="col-md-6 margin-bottom-20px">
                                <label><i class="far fa-user margin-right-10px"></i> [[#{patient.username}]]</label>
                                <input  th:field="*{username}" type="text" class=" form-control form-control-sm bello" disabled >
                            </div>
                            <div class="col-md-6 margin-bottom-20px">
                                <label><i class="far fa-envelope-open margin-right-10px"></i> [[#{patient.gender}]]</label>
                                <div> </div>
							    <select  class="disabled form-control form-control-sm bello" id="gender" name="gender" style="width: 65px; height: 30px;" disabled>
								   <option th:field="*{gender}" value="">M</option>
								   <option value="">F</option>										   
								</select>
                            </div>
                            <div class="col-md-6 margin-bottom-20px">
                                <label><i class="fa fa-birthday-cake margin-right-10px"></i> [[#{patient.dateOfBirth}]]</label>
                                <input   th:field="*{dateOfBirth}" type="text" class="disabled form-control form-control-sm bello"   disabled>
                            </div>
                            <div class="col-md-6 margin-bottom-20px">
                                <label><i class="far fa-envelope-open margin-right-10px"></i> [[#{patient.email}]]</label>
                                <input th:field="*{email}" type="text" class="disabled form-control form-control-sm bello"  disabled>
                            </div>                         
                        </div>
                        <hr class="margin-tb-40px">
						<button  id="bottonSubmit" style="top: 31px; position:relative; left: 300px" type="submit" hidden  class=" btn btn-md padding-lr-25px text-white background-main-color btn-inline-block">Submit</button>
						</form>	
					    <button onclick="disabledInput()" type="button" class=" btn btn-md padding-lr-25px  text-white background-main-color btn-inline-block">[[#{patient.updateProfile}]]</button>            
                    </div>                   			            
                </div>
            </div>
        </div>
    </div>
   </div>
  </div>
 </div>
</body>
</html>
